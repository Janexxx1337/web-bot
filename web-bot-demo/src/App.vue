<template>
  <div class="flex flex-col h-screen max-h-screen bg-gray-100">
    <!-- –®–∞–ø–∫–∞ –±–æ—Ç–∞ -->
    <div class="bg-blue-600 text-white p-4 shadow-md">
      <h1 class="text-xl font-bold">–î–µ–º–æ-–±–æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞</h1>
      <p class="text-sm">–ü—Ä–∏–º–µ—Ä—ã –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –¥–ª—è –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞</p>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π -->
    <div class="flex-grow overflow-y-auto p-4" ref="messagesContainer">
      <div v-for="(msg, index) in messages" :key="index"
           :class="`mb-4 flex ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`">
        <div
            :class="`p-3 rounded-lg max-w-xs md:max-w-md ${
            msg.sender === 'user'
              ? 'bg-blue-500 text-white rounded-br-none'
              : 'bg-white shadow rounded-bl-none'
          }`"
            v-html="formatMessage(msg.text)">
        </div>
      </div>

      <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏ -->
      <div v-if="loading" class="flex items-center my-2">
        <div class="w-2 h-2 bg-gray-400 rounded-full mr-1 animate-bounce"></div>
        <div class="w-2 h-2 bg-gray-400 rounded-full mr-1 animate-bounce" style="animation-delay: 0.2s"></div>
        <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.4s"></div>
      </div>

      <!-- –ö–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ -->
      <div v-if="showOptions" class="my-4">
        <div class="flex flex-wrap gap-2">
          <button
              v-for="(option, idx) in currentOptions"
              :key="idx"
              @click="handleOptionClick(option)"
              class="bg-blue-100 hover:bg-blue-200 text-blue-800 font-semibold py-2 px-4 rounded-full text-sm transition-colors"
          >
            {{ option }}
          </button>
        </div>
      </div>
    </div>

    <!-- –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è -->
    <form @submit.prevent="handleSubmit" class="p-4 bg-white border-t">
      <div class="flex">
        <input
            type="text"
            v-model="input"
            placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."
            class="flex-grow p-2 border rounded-l focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
        <button
            type="submit"
            class="bg-blue-600 text-white p-2 rounded-r hover:bg-blue-700 transition-colors"
        >
          –û—Ç–ø—Ä–∞–≤–∏—Ç—å
        </button>
      </div>
    </form>
  </div>
</template>

<script>
export default {
  name: 'WebBotPrototype',
  data() {
    return {
      messages: [],
      input: '',
      loading: false,
      showOptions: false,
      currentState: 'start',
      selectedPizza: '',
      selectedSize: '',
      telegramUsername: '@janexxx1337',
      // –°–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã
      states: {
        // –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
        start: {
          message: '–ü—Ä–∏–≤–µ—Ç! üëã –Ø –¥–µ–º–æ-–±–æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –±–æ—Ç–æ–≤. –ú–æ–≥—É –ø–æ–∫–∞–∑–∞—Ç—å –≤–∞–º, –∫–∞–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –≤–∞—à–µ–º –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–º –±–æ—Ç–µ. –ß—Ç–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?',
          options: [
            { text: '–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–æ–≤', next: 'features' },
            { text: '–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è', next: 'examples' },
            { text: '–°—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏', next: 'pricing' },
            { text: '–°–≤—è–∑–∞—Ç—å—Å—è —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º', next: 'contact' }
          ]
        },

        // –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–æ–≤
        features: {
          message: 'ü§ñ –ë–æ—Ç—ã –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á:\n\n‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–±—â–µ–Ω–∏–µ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏\n‚úÖ –ü—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–∫–∞–∑—ã –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è\n‚úÖ –ü—Ä–æ–≤–æ–¥–∏—Ç—å –æ–ø—Ä–æ—Å—ã –∏ –∫–≤–∏–∑—ã\n‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å CRM-—Å–∏—Å—Ç–µ–º–∞–º–∏\n‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\n‚úÖ –ü—Ä–∏–Ω–∏–º–∞—Ç—å –æ–ø–ª–∞—Ç—ã\n\n–•–æ—Ç–∏—Ç–µ —É–≤–∏–¥–µ—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é –±–æ—Ç–∞ –¥–ª—è –ø–∏—Ü—Ü–µ—Ä–∏–∏?',
          options: [
            { text: '–î–∞, –ø–æ–∫–∞–∂–∏—Ç–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é', next: 'demo_intro' },
            { text: '–ù–µ—Ç, —Ä–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö', next: 'examples' },
            { text: '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', next: 'start' }
          ]
        },

        // –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è - –≤–≤–æ–¥–Ω–∞—è —á–∞—Å—Ç—å
        demo_intro: {
          message: 'üé¨ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è**\n\n–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã –≤–ª–∞–¥–µ–ª–µ—Ü –ø–∏—Ü—Ü–µ—Ä–∏–∏. –í–æ—Ç –∫–∞–∫ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ä–∞–±–æ—Ç–∞ —Å –±–æ—Ç–æ–º –¥–ª—è –≤–∞—à–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.\n\n–ß—Ç–æ –±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ —Å–¥–µ–ª–∞—Ç—å?',
          options: [
            { text: '–ó–∞–∫–∞–∑–∞—Ç—å –ø–∏—Ü—Ü—É', next: 'demo_order_pizza' },
            { text: '–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–µ–Ω—é', next: 'demo_menu' },
            { text: '–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞', next: 'demo_order_status' },
            { text: '–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º', next: 'features' }
          ]
        },

        // –î–µ–º–æ - –∑–∞–∫–∞–∑ –ø–∏—Ü—Ü—ã
        demo_order_pizza: {
          message: 'üçï –û—Ç–ª–∏—á–Ω–æ! –ö–∞–∫—É—é –ø–∏—Ü—Ü—É –≤—ã —Ö–æ—Ç–µ–ª–∏ –±—ã –∑–∞–∫–∞–∑–∞—Ç—å?',
          options: [
            { text: '–ü–µ–ø–ø–µ—Ä–æ–Ω–∏', next: 'demo_select_size', data: '–ü–µ–ø–ø–µ—Ä–æ–Ω–∏' },
            { text: '–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞', next: 'demo_select_size', data: '–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞' },
            { text: '–ß–µ—Ç—ã—Ä–µ —Å—ã—Ä–∞', next: 'demo_select_size', data: '–ß–µ—Ç—ã—Ä–µ —Å—ã—Ä–∞' },
            { text: '–ì–∞–≤–∞–π—Å–∫–∞—è', next: 'demo_select_size', data: '–ì–∞–≤–∞–π—Å–∫–∞—è' }
          ]
        },

        // –î–µ–º–æ - –≤—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–∞
        demo_select_size: {
          message: 'üëç –í—ã –≤—ã–±—Ä–∞–ª–∏ **[PIZZA]**! –û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä.\n\n–ö–∞–∫–æ–π —Ä–∞–∑–º–µ—Ä –ø–∏—Ü—Ü—ã –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?',
          options: [
            { text: '–ú–∞–ª–µ–Ω—å–∫–∞—è (25—Å–º)', next: 'demo_order_complete', data: '–ú–∞–ª–µ–Ω—å–∫–∞—è (25—Å–º)' },
            { text: '–°—Ä–µ–¥–Ω—è—è (30—Å–º)', next: 'demo_order_complete', data: '–°—Ä–µ–¥–Ω—è—è (30—Å–º)' },
            { text: '–ë–æ–ª—å—à–∞—è (35—Å–º)', next: 'demo_order_complete', data: '–ë–æ–ª—å—à–∞—è (35—Å–º)' }
          ]
        },

        // –î–µ–º–æ - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
        demo_order_complete: {
          message: '‚úÖ –ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω!\n\n**–í–∞—à –∑–∞–∫–∞–∑:**\n–ü–∏—Ü—Ü–∞: [PIZZA]\n–†–∞–∑–º–µ—Ä: [SIZE]\n–°—Ç–æ–∏–º–æ—Å—Ç—å: [PRICE]‚ÇΩ\n–î–æ—Å—Ç–∞–≤–∫–∞: 30-45 –º–∏–Ω—É—Ç\n\n–í–∞—à –∑–∞–∫–∞–∑ ‚Ññ12345 –ø—Ä–∏–Ω—è—Ç –≤ —Ä–∞–±–æ—Ç—É.\n\n–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –±–æ—Ç –º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–∫–∞–∑–∞. –ß—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ?',
          options: [
            { text: '–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏', next: 'demo_intro' },
            { text: '–î—Ä—É–≥–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–æ–≤', next: 'features' },
            { text: '–ü—Ä–∏–º–µ—Ä—ã –¥–ª—è –¥—Ä—É–≥–∏—Ö –±–∏–∑–Ω–µ—Å–æ–≤', next: 'examples' },
            { text: '–°–≤—è–∑–∞—Ç—å—Å—è —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º', next: 'contact' },
            { text: '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', next: 'start' }
          ]
        },

        // –î–µ–º–æ - –ø—Ä–æ—Å–º–æ—Ç—Ä –º–µ–Ω—é
        demo_menu: {
          message: 'üìã **–ú–µ–Ω—é –Ω–∞—à–µ–π –ø–∏—Ü—Ü–µ—Ä–∏–∏:**\n\nüçï **–ü–µ–ø–ø–µ—Ä–æ–Ω–∏** - 400‚ÇΩ (–º–∞–ª–µ–Ω—å–∫–∞—è), 600‚ÇΩ (—Å—Ä–µ–¥–Ω—è—è), 800‚ÇΩ (–±–æ–ª—å—à–∞—è)\n–¢–æ–º–∞—Ç–Ω—ã–π —Å–æ—É—Å, –º–æ—Ü–∞—Ä–µ–ª–ª–∞, –ø–µ–ø–ø–µ—Ä–æ–Ω–∏\n\nüçï **–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞** - 350‚ÇΩ (–º–∞–ª–µ–Ω—å–∫–∞—è), 525‚ÇΩ (—Å—Ä–µ–¥–Ω—è—è), 700‚ÇΩ (–±–æ–ª—å—à–∞—è)\n–¢–æ–º–∞—Ç–Ω—ã–π —Å–æ—É—Å, –º–æ—Ü–∞—Ä–µ–ª–ª–∞, –±–∞–∑–∏–ª–∏–∫\n\nüçï **–ß–µ—Ç—ã—Ä–µ —Å—ã—Ä–∞** - 450‚ÇΩ (–º–∞–ª–µ–Ω—å–∫–∞—è), 675‚ÇΩ (—Å—Ä–µ–¥–Ω—è—è), 900‚ÇΩ (–±–æ–ª—å—à–∞—è)\n–°–ª–∏–≤–æ—á–Ω—ã–π —Å–æ—É—Å, –º–æ—Ü–∞—Ä–µ–ª–ª–∞, –¥–æ—Ä –±–ª—é, –ø–∞—Ä–º–µ–∑–∞–Ω, —á–µ–¥–¥–µ—Ä\n\nüçï **–ì–∞–≤–∞–π—Å–∫–∞—è** - 420‚ÇΩ (–º–∞–ª–µ–Ω—å–∫–∞—è), 630‚ÇΩ (—Å—Ä–µ–¥–Ω—è—è), 840‚ÇΩ (–±–æ–ª—å—à–∞—è)\n–¢–æ–º–∞—Ç–Ω—ã–π —Å–æ—É—Å, –º–æ—Ü–∞—Ä–µ–ª–ª–∞, –≤–µ—Ç—á–∏–Ω–∞, –∞–Ω–∞–Ω–∞—Å\n\n–ß—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ?',
          options: [
            { text: '–ó–∞–∫–∞–∑–∞—Ç—å –ø–∏—Ü—Ü—É', next: 'demo_order_pizza' },
            { text: '–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏', next: 'demo_intro' },
            { text: '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', next: 'start' }
          ]
        },

        // –î–µ–º–æ - —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞
        demo_order_status: {
          message: 'üîç –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ –Ω–∞–º –Ω—É–∂–µ–Ω –Ω–æ–º–µ—Ä –≤–∞—à–µ–≥–æ –∑–∞–∫–∞–∑–∞. –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º –∑–∞–∫–∞–∑ ‚Ññ12345.\n\nüì¶ **–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ #12345:**\n‚úÖ –ó–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç: 14:30\n‚úÖ –ì–æ—Ç–æ–≤–∏—Ç—Å—è: 14:35\nüîÑ –í –¥–æ—Å—Ç–∞–≤–∫–µ: –û–∂–∏–¥–∞–µ—Ç—Å—è\nüîÑ –î–æ—Å—Ç–∞–≤–ª–µ–Ω: –û–∂–∏–¥–∞–µ—Ç—Å—è\n\n–ü—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏: 15:10\n\n–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∫–ª–∏–µ–Ω—Ç—ã –≤—Å–µ–≥–¥–∞ –±—É–¥—É—Ç –≤ –∫—É—Ä—Å–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–≤–æ–µ–≥–æ –∑–∞–∫–∞–∑–∞.\n\n–ß—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ?',
          options: [
            { text: '–ó–∞–∫–∞–∑–∞—Ç—å –ø–∏—Ü—Ü—É', next: 'demo_order_pizza' },
            { text: '–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏', next: 'demo_intro' },
            { text: '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', next: 'start' }
          ]
        },

        // –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
        examples: {
          message: 'üì± **–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–æ—Ç–æ–≤:**\n\nüõçÔ∏è **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω**: –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤, –ø—Ä–∏–µ–º –∑–∞–∫–∞–∑–æ–≤, –æ–ø–ª–∞—Ç–∞.\n\nüè® **–°—Ñ–µ—Ä–∞ —É—Å–ª—É–≥**: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è.\n\nüîç **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤**: –æ—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã 24/7.\n\nüíº **–ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã**: –∑–∞—è–≤–∫–∏, —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è, –æ—Ç—á–µ—Ç—ã.\n\nüìä **–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥**: –æ–ø—Ä–æ—Å—ã, –∫–≤–∏–∑—ã, –∞–∫—Ü–∏–∏, –ª–æ—è–ª—å–Ω–æ—Å—Ç—å.\n\n–ö–∞–∫–æ–π –∏–∑ —ç—Ç–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –≤–∞—Å –±–æ–ª—å—à–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?',
          options: [
            { text: '–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω', next: 'example_ecommerce' },
            { text: '–°—Ñ–µ—Ä–∞ —É—Å–ª—É–≥', next: 'example_services' },
            { text: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤', next: 'example_support' },
            { text: '–ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã', next: 'example_business' },
            { text: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥', next: 'example_marketing' },
            { text: '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', next: 'start' }
          ]
        },

        // –ü—Ä–∏–º–µ—Ä: –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω
        example_ecommerce: {
          message: 'üõçÔ∏è **–ë–æ—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞**\n\n–í —Ç–∞–∫–æ–º –±–æ—Ç–µ –∫–ª–∏–µ–Ω—Ç—ã –º–æ–≥—É—Ç:\n\n‚úÖ –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ñ–æ—Ç–æ –∏ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏\n‚úÖ –î–æ–±–∞–≤–ª—è—Ç—å —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É\n‚úÖ –û—Ñ–æ—Ä–º–ª—è—Ç—å –∑–∞–∫–∞–∑—ã –ø—Ä—è–º–æ –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ\n‚úÖ –û–ø–ª–∞—á–∏–≤–∞—Ç—å –ø–æ–∫—É–ø–∫–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã\n‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏\n‚úÖ –ü–æ–ª—É—á–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Å–∫–∏–¥–∫–∏ –∏ –∞–∫—Ü–∏–∏\n\n–≠—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–∫—É–ø–∫–∏ –∏ –ø–æ–≤—ã—à–∞–µ—Ç –∫–æ–Ω–≤–µ—Ä—Å–∏—é.',
          options: [
            { text: '–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥—Ä—É–≥–∏–µ –ø—Ä–∏–º–µ—Ä—ã', next: 'examples' },
            { text: '–£–∑–Ω–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å', next: 'pricing' },
            { text: '–°–≤—è–∑–∞—Ç—å—Å—è —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º', next: 'contact' },
            { text: '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', next: 'start' }
          ]
        },

        // –ü—Ä–∏–º–µ—Ä: –°—Ñ–µ—Ä–∞ —É—Å–ª—É–≥
        example_services: {
          message: 'üè® **–ë–æ—Ç –¥–ª—è —Å—Ñ–µ—Ä—ã —É—Å–ª—É–≥**\n\n–¢–∞–∫–æ–π –±–æ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞–º:\n\n‚úÖ –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —É—Å–ª—É–≥–∏ –∏ —Ü–µ–Ω—ã\n‚úÖ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –æ–Ω–ª–∞–π–Ω 24/7\n‚úÖ –ü–æ–ª—É—á–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –∑–∞–ø–∏—Å—è—Ö\n‚úÖ –ú–µ–Ω—è—Ç—å –∏–ª–∏ –æ—Ç–º–µ–Ω—è—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è\n‚úÖ –û—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç–∑—ã–≤—ã\n‚úÖ –ü–æ–ª—É—á–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã\n\n–ë–∏–∑–Ω–µ—Å—É —ç—Ç–æ –¥–∞–µ—Ç —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –∏ –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—é –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.',
          options: [
            { text: '–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥—Ä—É–≥–∏–µ –ø—Ä–∏–º–µ—Ä—ã', next: 'examples' },
            { text: '–£–∑–Ω–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å', next: 'pricing' },
            { text: '–°–≤—è–∑–∞—Ç—å—Å—è —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º', next: 'contact' },
            { text: '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', next: 'start' }
          ]
        },

        // –ü—Ä–∏–º–µ—Ä: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
        example_support: {
          message: 'üîç **–ë–æ—Ç –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤**\n\n–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –±–æ—Ç–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏:\n\n‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç 24/7 –±–µ–∑ –≤—ã—Ö–æ–¥–Ω—ã—Ö\n‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã\n‚úÖ –ü–æ–º–æ–≥–∞–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –Ω—É–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é\n‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç –ø–µ—Ä–≤–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è\n‚úÖ –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –∂–∏–≤–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞\n‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –æ–±—Ä–∞—â–µ–Ω–∏–π\n\n–≠—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ —É—Å–∫–æ—Ä—è–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –∫–ª–∏–µ–Ω—Ç–æ–≤.',
          options: [
            { text: '–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥—Ä—É–≥–∏–µ –ø—Ä–∏–º–µ—Ä—ã', next: 'examples' },
            { text: '–£–∑–Ω–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å', next: 'pricing' },
            { text: '–°–≤—è–∑–∞—Ç—å—Å—è —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º', next: 'contact' },
            { text: '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', next: 'start' }
          ]
        },

        // –ü—Ä–∏–º–µ—Ä: –ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã
        example_business: {
          message: 'üíº **–ë–æ—Ç –¥–ª—è –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤**\n\n–¢–∞–∫–æ–π –±–æ—Ç –ø–æ–º–æ–≥–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å:\n\n‚úÖ –ü—Ä–∏–µ–º –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞—è–≤–æ–∫\n‚úÖ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤\n‚úÖ –û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\n‚úÖ –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏\n‚úÖ –°–±–æ—Ä –∏ –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö\n‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å CRM –∏ –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏\n\n–≠—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ —ç–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.',
          options: [
            { text: '–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥—Ä—É–≥–∏–µ –ø—Ä–∏–º–µ—Ä—ã', next: 'examples' },
            { text: '–£–∑–Ω–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å', next: 'pricing' },
            { text: '–°–≤—è–∑–∞—Ç—å—Å—è —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º', next: 'contact' },
            { text: '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', next: 'start' }
          ]
        },

        // –ü—Ä–∏–º–µ—Ä: –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥
        example_marketing: {
          message: 'üìä **–ë–æ—Ç –¥–ª—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞**\n\n–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π –±–æ—Ç –º–æ–∂–µ—Ç:\n\n‚úÖ –ü—Ä–æ–≤–æ–¥–∏—Ç—å –æ–ø—Ä–æ—Å—ã –∏ –∫–≤–∏–∑—ã\n‚úÖ –°–æ–±–∏—Ä–∞—Ç—å –ª–∏–¥—ã –∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ\n‚úÖ –ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ –Ω–æ–≤—ã—Ö –∞–∫—Ü–∏—è—Ö –∏ —Å–∫–∏–¥–∫–∞—Ö\n‚úÖ –í–µ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—É –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏\n‚úÖ –†–∞—Å—Å—ã–ª–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è\n‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤\n\n–≠—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π.',
          options: [
            { text: '–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥—Ä—É–≥–∏–µ –ø—Ä–∏–º–µ—Ä—ã', next: 'examples' },
            { text: '–£–∑–Ω–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å', next: 'pricing' },
            { text: '–°–≤—è–∑–∞—Ç—å—Å—è —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º', next: 'contact' },
            { text: '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', next: 'start' }
          ]
        },

        // –°—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
        pricing: {
          message: 'üí∞ **–°—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–æ—Ç–∞**\n\n‚≠ê **–ë–∞–∑–æ–≤—ã–π –±–æ—Ç**: –æ—Ç 30,000‚ÇΩ\n–ü—Ä–æ—Å—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å –±–∞–∑–æ–≤—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏\n\n‚≠ê‚≠ê **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –±–æ—Ç**: –æ—Ç 60,000‚ÇΩ\n–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º–∏\n\n‚≠ê‚≠ê‚≠ê **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –±–æ—Ç**: –æ—Ç 120,000‚ÇΩ\n–°–ª–æ–∂–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏, –ò–ò –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞\n\n–ö–∞–∂–¥—ã–π –ø—Ä–æ–µ–∫—Ç —É–Ω–∏–∫–∞–ª–µ–Ω, –∏ –º—ã –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤—ã –æ–±—Å—É–¥–∏—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞.',
          options: [
            { text: '–°–≤—è–∑–∞—Ç—å—Å—è —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º', next: 'contact' },
            { text: '–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è', next: 'examples' },
            { text: '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', next: 'start' }
          ]
        },

        // –°–≤—è–∑–∞—Ç—å—Å—è —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º
        contact: {
          message: 'üì≤ **–°–≤—è–∑–∞—Ç—å—Å—è —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º**\n\n–î–ª—è –±—ã—Å—Ç—Ä–æ–π —Å–≤—è–∑–∏, –Ω–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ –≤ Telegram: **[TELEGRAM]**\n\nüëâ <a href="https://t.me/dev_web_bot" target="_blank" class="text-blue-600 font-bold underline">–û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç –≤ Telegram</a>\n\n–Ø –æ—Ç–≤–µ—á—É –Ω–∞ –≤—Å–µ –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã –∏ –ø–æ–º–æ–≥—É –ø–æ–¥–æ–±—Ä–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞!',
          options: [
            { text: '–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', next: 'start' }
          ]
        }
      }
    }
  },
  computed: {
    currentOptions() {
      const currentStateObj = this.states[this.currentState];
      if (currentStateObj && currentStateObj.options) {
        return currentStateObj.options.map(option => option.text);
      }
      return [];
    }
  },
  methods: {
    // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ—Å—Ç—ã—Ö markdown-–ø–æ–¥–æ–±–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
    formatMessage(text) {
      if (!text) return '';

      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∂–∏—Ä–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
      let formattedText = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');

      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫
      formattedText = formattedText.replace(/\n/g, '<br />');

      return formattedText;
    },

    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
    addBotMessage(message, options = null, delay = 1000) {
      this.loading = true;
      setTimeout(() => {
        this.messages.push({ text: message, sender: 'bot' });
        this.loading = false;
        if (options && options.length > 0) {
          setTimeout(() => this.showOptions = true, 300);
        }
      }, delay);
    },

    // –ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é –∏ –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    goToState(stateName, data = null) {
      if (!this.states[stateName]) {
        console.error('–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:', stateName);
        return;
      }

      this.currentState = stateName;
      this.showOptions = false;

      let message = this.states[stateName].message;

      // –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ —Å–æ–æ–±—â–µ–Ω–∏–µ
      if (stateName === 'demo_select_size' && this.selectedPizza) {
        message = message.replace('[PIZZA]', this.selectedPizza);
      }
      else if (stateName === 'demo_order_complete') {
        const pizza = this.selectedPizza || '–ü–µ–ø–ø–µ—Ä–æ–Ω–∏';
        const size = this.selectedSize || '–°—Ä–µ–¥–Ω—è—è (30—Å–º)';
        const price = this.getPizzaPrice(pizza, size);

        message = message
            .replace('[PIZZA]', pizza)
            .replace('[SIZE]', size)
            .replace('[PRICE]', price);
      }
      else if (stateName === 'contact') {
        message = message.replace('[TELEGRAM]', this.telegramUsername);
      }

      this.addBotMessage(message, this.currentOptions);
    },

    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ü–µ–Ω—ã –¥–ª—è –¥–µ–º–æ –∑–∞–∫–∞–∑–∞ –ø–∏—Ü—Ü—ã
    getPizzaPrice(pizza, size) {
      const basePrices = {
        '–ü–µ–ø–ø–µ—Ä–æ–Ω–∏': 400,
        '–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞': 350,
        '–ß–µ—Ç—ã—Ä–µ —Å—ã—Ä–∞': 450,
        '–ì–∞–≤–∞–π—Å–∫–∞—è': 420
      };

      const sizeMultipliers = {
        '–ú–∞–ª–µ–Ω—å–∫–∞—è (25—Å–º)': 1,
        '–°—Ä–µ–¥–Ω—è—è (30—Å–º)': 1.5,
        '–ë–æ–ª—å—à–∞—è (35—Å–º)': 2
      };

      const basePrice = basePrices[pizza] || 400;
      const multiplier = sizeMultipliers[size] || 1;

      return Math.floor(basePrice * multiplier);
    },

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ –æ–ø—Ü–∏–∏
    handleOptionClick(optionText) {
      // –î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      this.messages.push({ text: optionText, sender: 'user' });
      this.showOptions = false;

      // –ù–∞–π—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –æ–±—ä–µ–∫—Ç –æ–ø—Ü–∏–∏
      const currentStateObj = this.states[this.currentState];
      const selectedOption = currentStateObj.options.find(option => option.text === optionText);

      if (!selectedOption) {
        console.error('–û–ø—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞:', optionText);
        return;
      }

      // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
      if (selectedOption.data) {
        if (this.currentState === 'demo_order_pizza') {
          this.selectedPizza = selectedOption.data;
        } else if (this.currentState === 'demo_select_size') {
          this.selectedSize = selectedOption.data;
        }
      }

      // –ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
      setTimeout(() => {
        this.goToState(selectedOption.next);
      }, 500);
    },

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
    handleSubmit() {
      if (this.input.trim() === '') return;

      this.messages.push({ text: this.input, sender: 'user' });
      const userInput = this.input.toLowerCase();
      this.input = '';
      this.showOptions = false;

      // –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
      setTimeout(() => {
        if (userInput.includes('–ø—Ä–∏–≤–µ—Ç') || userInput.includes('–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ') || userInput.includes('–¥–æ–±—Ä—ã–π –¥–µ–Ω—å')) {
          this.goToState('start');
        } else if (userInput.includes('–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏') || userInput.includes('—á—Ç–æ —É–º–µ–µ—Ç') || userInput.includes('—á—Ç–æ –º–æ–∂–µ—Ç')) {
          this.goToState('features');
        } else if (userInput.includes('–ø—Ä–∏–º–µ—Ä') || userInput.includes('–∫–µ–π—Å') || userInput.includes('–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ')) {
          this.goToState('examples');
        } else if (userInput.includes('—Ü–µ–Ω–∞') || userInput.includes('—Å—Ç–æ–∏–º–æ—Å—Ç—å') || userInput.includes('—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç')) {
          this.goToState('pricing');
        } else if (userInput.includes('–∫–æ–Ω—Ç–∞–∫—Ç') || userInput.includes('—Å–≤—è–∑—å') || userInput.includes('–∑–∞–∫–∞–∑–∞—Ç—å') ||
            userInput.includes('—Ç–µ–ª–µ–≥—Ä–∞–º') || userInput.includes('telegram')) {
          this.goToState('contact');
        } else if (userInput.includes('–¥–∞') && this.currentState === 'features') {
          this.goToState('demo_intro');
        } else if (userInput.includes('–∑–∞–∫–∞–∑') && userInput.includes('–ø–∏—Ü—Ü')) {
          this.goToState('demo_order_pizza');
        } else if (userInput.includes('–º–µ–Ω—é')) {
          this.goToState('demo_menu');
        } else if (userInput.includes('—Å—Ç–∞—Ç—É—Å') || userInput.includes('–≥–¥–µ') && userInput.includes('–∑–∞–∫–∞–∑')) {
          this.goToState('demo_order_status');
        } else if (userInput.includes('–≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é') || userInput.includes('–≤–µ—Ä–Ω—É—Ç—å—Å—è') || userInput.includes('–Ω–∞—á–∞–ª–æ')) {
          this.goToState('start');
        } else {
          this.addBotMessage('–ò–∑–≤–∏–Ω–∏—Ç–µ, —è –Ω–µ —Å–æ–≤—Å–µ–º –ø–æ–Ω—è–ª –≤–∞—à –∑–∞–ø—Ä–æ—Å. –í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–∏–∂–µ:', this.currentOptions);
        }
      }, 500);
    },

    // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
    scrollToBottom() {
      if (this.$refs.messagesContainer) {
        this.$nextTick(() => {
          this.$refs.messagesContainer.scrollTop = this.$refs.messagesContainer.scrollHeight;
        });
      }
    }
  },
  watch: {
    // –°–ª–µ–¥–∏–º –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –¥–ª—è –∞–≤—Ç–æ–ø—Ä–æ–∫—Ä—É—Ç–∫–∏
    messages() {
      this.scrollToBottom();
    },
    showOptions() {
      this.scrollToBottom();
    }
  },
  mounted() {
    // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
    setTimeout(() => {
      this.goToState('start');
    }, 1000);
  }
}
</script>

<style lang="scss" scoped>
@keyframes confetti {
  0% {
    transform: translateY(0) rotate(0);
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) rotate(720deg);
    opacity: 0;
  }
}
</style>